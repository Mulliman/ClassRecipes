@model ClassRecipes.Web.Areas.Recipes.Models.RecipePageModel

@{
    Layout = "_Layout";
}

<partial name="_Hero.cshtml" />

<div id="Start" class="article-start"></div>

<div class="prereqs recipe-section">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <h2>Prerequisites</h2>
            </div>
        </div>

        <div class="row">
            <div class="col s12 m12 l6">
                @await Html.PartialAsync("~/Areas/Common/Views/Shared/_CollectionWithHeader.cshtml", Model.IngredientsCollection)
            </div>

            <div class="col s12 m12 l6">
                @await Html.PartialAsync("~/Areas/Common/Views/Shared/_CollectionWithHeader.cshtml", Model.ToolsCollection)
            </div>
        </div>

        <div class="row center section-button-row">
            <a href="#Instructions" class="btn-large brand-green-border-button darken-2 z-depth-0">Begin Cooking</a>
        </div>
    </div>
</div>

<div class="container recipe-section" id="Instructions">
    <div class="row">

        <div class="col s12 m12 l12 no-bottom-border-on-small no-padding-sides-on-small">
            <h2>Instructions</h2>
        </div>

    </div>

    @{ var stepNumber = 1; }

    @foreach (var step in Model.Recipe.Steps)
    {
        var stepModel = new ClassRecipes.Web.Areas.Recipes.Models.StepModel(step, stepNumber);

        @await Html.PartialAsync("_Step", stepModel)

        <div id="@("Step" + (stepNumber + 1))" class="divider big-space"></div>

        stepNumber++;
    }


    <div class="row center section-button-row">
        <a href="#Finishing" class="btn-large brand-green-border-button darken-2 z-depth-0">Finishing off</a>
    </div>
</div>

<div id="Finishing" class="grey lighten-3 recipe-section">
    <div class="container">

        <div class="row">

            <div class="col s12 m12 l12 no-bottom-border-on-small no-padding-sides-on-small">
                <h2>Finishing</h2>
            </div>

        </div>


        @if (Model.Recipe.FinishingImageUrls?.Any() == true)
        {
            var firstImageOnlyForNow = Model.Recipe.FinishingImageUrls.First();

            <div class="row">
                <div class="col s12 ">
                    <div class="finishing-image material-placeholder">
                        <img class="materialboxed responsive-img" src="@firstImageOnlyForNow" alt="Final dish" />
                    </div>
                </div>
            </div>
        }

        <div class="row">
            <div class="col s12 m12 l12 no-bottom-border-on-small no-padding-sides-on-small">
                <h4>Serve with...</h4>
            </div>
        </div>

        <div class="row flex-row">

            <div class="col s12 m6">
                <div class="card">
                    <div class="card-content">
                        <span class="card-title">Cayenne Chocolate Buttercream</span>
                        <p>
                            Add 2 tsp of cayenne pepper to 500g of chocolate buttercream or frosting.
                        </p>
                    </div>
                    <!--<div class="card-action">
                    <a href="#">Basic chocolate frosting</a>
                </div>-->
                </div>
            </div>

            <div class="col s12 m6">
                <div class="card horizontal">
                    <div class="card-image thin-image">
                        <img class="materialboxed" src="/img/chilli-syrup-vertical.jpg" />
                    </div>
                    <div class="card-stacked">
                        <div class="card-content">
                            <span class="card-title">Chilli Syrup</span>
                            <p>Add 2tsp of cayenne chilli powder to 50ml of golden syrup and shake until fully combined.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>